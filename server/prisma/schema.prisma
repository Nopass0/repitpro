// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  //prod
  // provider = "postgresql"
  // url      = env("DATABASE_URL")

  //sqlite3 dev
  provider = "sqlite"
  url      = "file:./db.sqlite"
}


//users and auth tokens
model User {
  id         String   @id @default(cuid())
  name       String   @unique
  password   String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  email      String?
  userId     String?
  address    String?
  phone      String?
  source     String?
  expenses   Float?
  comment    String?
  unpaidLessons Int?
  paidLessons Int?
  totalLessonsEarned Int?
  totalLessonsDebt Int?
  isArchived Boolean?
  isDeleted  Boolean?
  filesIds   String?
  linksIds   String?
}


model Token {
  id         String   @id @default(cuid())
  userId     String
  token      String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

// export interface ITimeLine {
//   day: string;
//   startTime: {
//     hour: number;
//     minute: number;
//   };
//   endTime: {
//     hour: number;
//     minute: number;
//   };
// }

model TimeLine {
  id  String @id @default(cuid())
  day  String
  startTimeHour  Int
  startTimeMinute  Int
  endTimeHour  Int
  endTimeMinute  Int

  Item  Item[]
}

model Item {
  id         String   @id @default(cuid())
  itemName   String
  tryLessonCheck  Boolean
  tryLessonCost   String
  todayProgramStudent  String
  targetLesson  String
  programLesson  String
  typeLesson  Int
  placeLesson  String
  timeLesson  String
  valueMuiSelectArchive  Int
  startLesson  DateTime
  endLesson  DateTime
  nowLevel  Int
  lessonDuration  Int
  timeLinesArray  TimeLine[]

  Student  Student[]
}

model Student {
  id         String   @id @default(cuid())
  nameStudent String
  phoneNumber String
  contactFace String
  email       String
  prePayCost  String
  prePayDate  DateTime
  costOneLesson String
  commentStudent String
  link String
  cost String
  items Item[]
}